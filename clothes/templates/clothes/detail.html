{% load static %}
<!DOCTYPE html>
<html lang="en"> {# Changed lang to en for consistency, assuming your detail page is also in English #}
<head>
  <meta charset="UTF-8">
  <title>{{ item.name }} - MindVibe</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
        font-family: 'Kanit', sans-serif;
        background-color: #FAF7F5;
        color: #4A4A4A;
        margin: 0;
        padding: 2rem;
        padding-top: 90px; /* Space for fixed navbar */
        display: flex;
        justify-content: center; /* Center content horizontally */
        align-items: flex-start; /* Align to top */
        min-height: 100vh;
    }

    .container {
        display: flex;
        flex-wrap: wrap; /* Allow wrapping on smaller screens */
        max-width: 1100px;
        width: 100%;
        background-color: #FFFFFF;
        border-radius: 10px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        overflow: hidden; /* To contain floated elements or for border-radius on children */
    }

    .image-column {
        flex: 1 1 50%; /* Takes up 50% of width, can shrink/grow */
        min-width: 300px; /* Minimum width before wrapping */
        padding: 1.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .image-column img {
        max-width: 100%;
        max-height: 600px; /* Limit image height */
        height: auto;
        border-radius: 8px;
        object-fit: cover;
    }

    .info-column {
        flex: 1 1 50%;
        min-width: 300px;
        padding: 2.5rem;
        display: flex;
        flex-direction: column;
    }

    .info-column h1 {
        font-size: 2.2rem;
        color: #2C3E50;
        margin-bottom: 1rem;
        font-weight: 500;
    }

    .info-column .description {
        font-size: 0.95rem;
        line-height: 1.7;
        color: #555;
        margin-bottom: 1.5rem;
    }

    .price-tag {
        font-size: 1.8rem; /* Larger price */
        color: #A7B8A5; /* Quiet Green for price */
        font-weight: 500;
        margin-bottom: 1.5rem;
    }
     .price-tag .currency {
        font-size: 1rem;
        font-weight: 400;
        margin-left: 0.2rem;
    }


    .size-wrapper {
        margin-bottom: 1.5rem;
    }
    .size-wrapper label {
        display: block;
        margin-bottom: 0.6rem;
        color: #555555;
        font-weight: 500;
        font-size: 0.9rem;
    }
    .size-buttons {
        display: flex;
        gap: 0.8rem; /* Space between buttons */
    }
    .size-btn {
        padding: 0.6rem 1rem;
        border: 1px solid #D0D0D0;
        border-radius: 6px;
        background-color: #FCFCFC;
        color: #4A4A4A;
        cursor: pointer;
        font-family: 'Kanit', sans-serif;
        font-size: 0.9rem;
        transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }
    .size-btn:hover {
        border-color: #A7B8A5;
        background-color: #f0f0f0;
    }
    .size-btn.selected {
        background-color: #A7B8A5;
        color: white;
        border-color: #A7B8A5;
        font-weight: 500;
    }

    .add-to-cart-btn {
        font-family: 'Kanit', sans-serif;
        font-size: 1rem;
        font-weight: 500;
        padding: 0.9rem 2rem;
        background-color: #2C3E50; /* Dark Slate Gray for primary action */
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        width: 100%; /* Full width button */
        text-align: center;
        transition: background-color 0.25s ease, transform 0.15s ease;
        margin-top: 1rem; /* Space above button */
    }
    .add-to-cart-btn:hover {
        background-color: #1e2a38; /* Darker Slate Gray */
        transform: translateY(-2px);
    }
    .add-to-cart-btn i { /* For icon */
        margin-left: 0.5rem;
    }


    .back-link {
        display: inline-block;
        margin-top: 2rem;
        color: #7F8C8D;
        text-decoration: none;
        font-size: 0.9rem;
        transition: color 0.2s ease;
    }
    .back-link:hover {
        color: #2C3E50;
    }
    .back-link i {
        margin-right: 0.3rem;
    }

    /* Messages Styling */
    .messages-container {
        position: fixed; /* Or absolute, depending on desired placement */
        top: 80px; /* Below navbar */
        left: 50%;
        transform: translateX(-50%);
        width: auto;
        max-width: 400px;
        z-index: 1001; /* Above navbar content if navbar is lower z-index */
    }
    .messages {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .messages li {
        padding: 0.8rem 1.2rem;
        margin-bottom: 0.8rem; /* Space between messages */
        border-radius: 6px;
        font-weight: 400;
        font-size: 0.9rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        text-align: center;
    }
    .messages li.success {
        background-color: #d1e7dd; /* Softer green */
        color: #0f5132;
        border: 1px solid #badbcc;
    }
    .messages li.error {
        background-color: #f8d7da;
        color: #721c24; /* Kept for clarity */
        border: 1px solid #f5c6cb;
    }
    .messages li.info {
        background-color: #cff4fc; /* Softer blue for info */
        color: #055160;
        border: 1px solid #b6effb;
    }
    .messages li.warning {
        background-color: #fff3cd; /* Softer yellow for warning */
        color: #664d03;
        border: 1px solid #ffecb5;
    }


    /* Navbar to be included from base or added here if not using extends */
    /* Assuming navbar from home.html for context */
    .navbar {
        background-color: #FFFFFF;
        height: 70px;
        padding: 0 2.5rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
    }
    .navbar-left { display: flex; align-items: center; }
    .navbar-logo a { font-size: 2rem; font-weight: 500; color: #2C3E50; text-decoration: none; margin-right: 2.5rem; }
    .navbar-categories a { color: #555; text-decoration: none; margin-right: 1.5rem; font-weight: 400; font-size: 0.95rem; transition: color 0.2s ease; }
    .navbar-categories a:hover, .navbar-categories a.active { color: #A7B8A5; }
    .navbar-right { display: flex; align-items: center; }
    .navbar-icons a, .navbar-auth > a, .navbar-auth > span { color: #2C3E50; text-decoration: none; margin-left: 1.5rem; font-size: 1.1rem; transition: color 0.2s ease; }
    .navbar-icons a:hover, .navbar-auth > a:hover:not(.btn-login):not(.btn-signup):not(.btn-logout) { color: #A7B8A5; }
    .navbar-icons a i { font-size: 1.2rem; }
    .navbar-auth .user-greeting { margin-right: 0.5rem; margin-left: 1.5rem; color: #4A4A4A; font-size: 0.9rem; font-weight: 400;}
    .navbar-auth .btn-login, .navbar-auth .btn-signup, .navbar-auth .btn-logout { padding: 0.6rem 1.2rem; border-radius: 6px; color: white; font-weight: 500; text-decoration: none; transition: background-color 0.25s ease, transform 0.15s ease; border: none; font-size: 0.9rem; }
    .navbar-auth .btn-login:hover, .navbar-auth .btn-signup:hover, .navbar-auth .btn-logout:hover { transform: translateY(-2px); }
    .navbar-auth .btn-login { background-color: #A7B8A5; } .navbar-auth .btn-login:hover { background-color: #96A894; }
    .navbar-auth .btn-signup { background-color: #2C3E50; margin-left:0.8rem; } .navbar-auth .btn-signup:hover { background-color: #1e2a38; }
    .navbar-auth .btn-logout { background-color: #7F8C8D; } .navbar-auth .btn-logout:hover { background-color: #6c757d; }

  </style>
</head>
<body>

  {# Re-add Navbar HTML snippet for standalone detail page viewing during development #}
  <nav class="navbar">
    <div class="navbar-left">
        <div class="navbar-logo">
            <a href="{% url 'clothes:home' %}">MindVibe</a>
        </div>
        <div class="navbar-categories">
            <a href="#">Shop</a> {# Adjust these links as needed or remove if detail page is simple #}
            <a href="{% url 'clothes:new_arrivals' %}">New Arrivals</a>
        </div>
    </div>
    <div class="navbar-right">
        <div class="navbar-icons">
            <a href="#" aria-label="Search"><i class="fas fa-search"></i></a>
            <a href="#" aria-label="Wishlist"><i class="fas fa-heart"></i></a>
            <a href="#" aria-label="Shopping Bag"><i class="fas fa-shopping-bag"></i></a>
        </div>
        <div class="navbar-auth">
            {% if user.is_authenticated %}
                <span class="user-greeting">Hi, {{ user.username|default:'User' }}</span>
                <a href="{% url 'clothes:logout' %}" class="btn-logout">Logout</a>
            {% else %}
                <a href="{% url 'clothes:login' %}" class="btn-login">Login</a>
                <a href="{% url 'clothes:signup' %}" class="btn-signup">Sign Up</a>
            {% endif %}
        </div>
    </div>
  </nav>

  <div class="messages-container">
      {% if messages %}
      <ul class="messages">
          {% for message in messages %}
          <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
          {% endfor %}
      </ul>
      {% endif %}
  </div>

  <div class="container">
    <div class="image-column">
        {% if item.image %}
            <img src="{{ item.image.url }}" alt="{{ item.name }}">
        {% else %}
            <img src="https://placehold.co/400x500/E0E0E0/A0A0A0?text=No+Image" alt="{{ item.name }}">
        {% endif %}
    </div>
    <div class="info-column">
      <h1>{{ item.name }}</h1>
      <p class="description">{{ item.description }}</p>

      {% if item.price %} {# Assuming you might add a price field to your Clothing model #}
        <p class="price-tag">{{ item.price|floatformat:2 }} <span class="currency">THB</span></p>
      {% else %}
         <p class="price-tag">Price on request</p> {# Or some other placeholder #}
      {% endif %}


      <div class="size-wrapper">
        <label for="size">Select Size:</label> {# Changed to English #}
        <div class="size-buttons">
          <button class="size-btn" onclick="selectSize(this, 'S')">S</button>
          <button class="size-btn" onclick="selectSize(this, 'M')">M</button>
          <button class="size-btn" onclick="selectSize(this, 'L')">L</button>
          <button class="size-btn" onclick="selectSize(this, 'XL')">XL</button>
        </div>
        <input type="hidden" id="selected_size" name="selected_size"> {# Hidden input for selected size #}
      </div>

      {# Ensure add_to_cart URL is correctly namespaced if uncommented in urls.py #}
      <a href="{% if item.available %}{% url 'clothes:add_to_cart' item.pk %}{% else %}#{% endif %}"
         class="add-to-cart-btn {% if not item.available %}disabled{% endif %}">
        {% if item.available %}
            Add to Cart <i class="fas fa-cart-plus"></i> {# Changed to English & icon #}
        {% else %}
            Currently Unavailable
        {% endif %}
      </a>

      <a href="{% url 'clothes:home' %}" class="back-link"><i class="fas fa-arrow-left"></i> Back to Home</a> {# Changed to English & icon #}
    </div>
  </div>

  <script>
    function selectSize(btn, sizeValue) {
      const buttons = document.querySelectorAll('.size-btn');
      buttons.forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      document.getElementById('selected_size').value = sizeValue; // Store selected size
      console.log('Selected size:', sizeValue); // For debugging
    }
  </script>

</body>
</html>